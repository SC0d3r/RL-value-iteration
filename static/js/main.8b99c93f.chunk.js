(this["webpackJsonprl-value-iteration"]=this["webpackJsonprl-value-iteration"]||[]).push([[0],{50:function(e,t,n){e.exports={cell:"GridTable_cell__16vxg"}},51:function(e,t,n){e.exports={cell:"GridDirectionTable_cell__LCpCz"}},75:function(e,t,n){},76:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(10),c=n.n(a),o=(n(75),n(13)),s=(n.p,n(76),n(61)),l=n(123),u={UP:1,DOWN:2,LEFT:3,RIGHT:4};function j(e,t,n,r){var i=l.a(r);return i[e][t]=n,i.terminalStates=function(e){return e.terminalStates||[]}(r),i.terminalStates.push([e,t]),i}function d(e,t,n){return n.terminalStates.some((function(n){var r=Object(o.a)(n,2),i=r[0],a=r[1];return i===e&&t===a}))}function b(e,t,n){return S(e,t,"O",n)}function m(e,t,n){return"O"===O(e,t,n)}function f(e){return"O"===e}function h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r;if(i===y(r)[0])return c;var l=w(i,a,y(r)),u=Object(o.a)(l,2),j=u[0],b=u[1];if(d(i,a,r)||m(i,a,r))return h(e,t,n,r,j,b,c);var f=v(i,a,r,e,t,n),x=Math.max.apply(Math,Object(s.a)(f)),O=S(i,a,x,c);return h(e,t,n,r,j,b,O)}function x(e,t,n){var r=p(e,t,0,n,Number.MIN_SAFE_INTEGER),i=r.up,a=r.down,c=r.left,o=r.right,s=Math.max(i,a,c,o);return s===c?u.LEFT:s===o?u.RIGHT:s===a?u.DOWN:u.UP}function O(e,t,n){try{return n[e][t]}catch(r){return}}function g(e,t,n){return!m(e,t,n)&&function(e,t,n){return e>=0&&e<n[0]&&t>=0&&t<n[1]}(e,t,y(n))}function p(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,c=g(e-1,t,r)?O(e-1,t,r):i,o=g(e,t+1,r)?O(e,t+1,r):i,s=g(e,t-1,r)?O(e,t-1,r):i,l=g(e+1,t,r)?O(e+1,t,r):i;return{up:d(e-1,t,r)?0===a?a:1===O(e-1,t,r)?1:-1:c,rewardUP:d(e-1,t,r)?1===O(e-1,t,r)?1:-1:n,left:d(e,t-1,r)?0===a?a:1===O(e,t-1,r)?1:-1:s,rewardLeft:d(e,t-1,r)?1===O(e,t-1,r)?1:-1:n,right:d(e,t+1,r)?0===a?a:1===O(e,t+1,r)?1:-1:o,rewardRight:d(e,t+1,r)?1===O(e,t+1,r)?1:-1:n,down:d(e+1,t,r)?0===a?a:1===O(e+1,t,r)?1:-1:l,rewardDown:d(e+1,t,r)?1===O(e+1,t,r)?1:-1:n}}function v(e,t,n,r,i,a){O(e,t,n);var c=p(e,t,r,n,0,0),o=c.up,s=c.down,l=c.left,u=c.right,j=c.rewardDown,d=c.rewardLeft,b=c.rewardRight,m=c.rewardUP,f=[];return f.push(.8*(m+i*o)+.1*(b+i*u)+.1*(d+i*l)),f.push(.8*(j+i*s)+.1*(b+i*u)+.1*(d+i*l)),f.push(.8*(b+i*u)+.1*(m+i*o)+.1*(j+i*s)),f.push(.8*(d+i*l)+.1*(m+i*o)+.1*(j+i*s)),f}function y(e){return e.size}function w(e,t,n){var r=Object(o.a)(n,2);r[0];return t+1>=r[1]?[e+1,0]:[e,t+1]}function S(e,t,n,r){var i=l.a(r);return i[e][t]=n,i}u.toString=function(e){switch(e){case u.UP:return"UP";case u.DOWN:return"DOWN";case u.LEFT:return"LEFT";case u.RIGHT:return"RIGHT";default:return"UNKOWN"}};var N=n(113),T=n(120),C=n(117),I=n(121),k=n(50),D=n.n(k),F=n(124),L=n(4);function M(e){return function(e){var t=e.toString();return-1!==t.indexOf(".")&&("0"===(t=t.split(".")[1])[0]&&"0"===t[1])}(e)?e.toExponential(2):parseFloat(e).toFixed(3)}var R=Object(F.a)()((function(e){var t=e.grid,n=e.justify,r=void 0===n?"flex-start":n,i=e.width,a=e.onDoubleClickCell;return Object(L.jsx)(N.a,{container:!0,item:!0,alignItems:"center",justify:"center",style:{padding:"2rem"},children:t.map((function(e,t){return Object(L.jsx)(N.a,{style:{width:Object(F.b)("xs",i)?"fit-content":"none"},item:!0,container:!0,justify:r,direction:"row",children:e.map((function(e,n){return f(e)?Object(L.jsx)(N.a,{onDoubleClick:function(e){return a(t,n)},item:!0,className:D.a.cell,style:{background:"rgba(0,0,0,0.7)"}}):Object(L.jsx)(N.a,{onDoubleClick:function(e){return a(t,n)},alignItems:"center",justify:"center",item:!0,className:D.a.cell,children:Object(L.jsx)(C.a,{component:"body",style:{fontSize:"calc(0.5rem + 5px)"},children:M(e)})},Math.random())}))},Math.random())}))})})),E=n(51),P=n.n(E),G=n(36),U=n.n(G),_=n(60),z=n.n(_),H=n(59),W=n.n(H);var B=Object(F.a)()((function(e){var t=e.grid,n=e.justify,r=void 0===n?"flex-start":n,i=e.width;return Object(L.jsx)(N.a,{container:!0,item:!0,justify:"center",style:{padding:"2rem"},children:t.map((function(e,n){return Object(L.jsx)(N.a,{style:{width:Object(F.b)("xs",i)?"fit-content":"none"},item:!0,container:!0,justify:r,direction:"row",children:e.map((function(e,r){return f(e)?Object(L.jsx)(N.a,{item:!0,className:P.a.cell,style:{background:"rgba(0,0,0,0.7)"}}):Object(L.jsx)(N.a,{alignItems:"center",justify:"center",item:!0,className:P.a.cell,children:Object(L.jsx)(C.a,{component:"body",style:{fontSize:"calc(0.5rem + 5px)"},children:d(n,r,t)&&O(n,r,t)<0?Object(L.jsx)(W.a,{style:{color:"red",fontWeight:"bold",position:"relative",bottom:"2px"}}):d(n,r,t)&&O(n,r,t)>=0?Object(L.jsx)(z.a,{style:{color:"green"}}):u.LEFT===x(n,r,t)?Object(L.jsx)(U.a,{style:{color:"rgba(3,2,255,0.9)"}}):u.RIGHT===x(n,r,t)?Object(L.jsx)(U.a,{style:{transform:"scaleX(-1)",color:"rgba(3,2,255,0.9)"}}):u.UP===x(n,r,t)?Object(L.jsx)(U.a,{style:{transform:"rotate(90deg)",color:"rgba(3,2,255,0.9)"}}):Object(L.jsx)(U.a,{style:{transform:"rotate(-90deg)",color:"rgba(3,2,255,0.9)"}})})},Math.random())}))},Math.random())}))})})),A=n(118),J=n(122);Object(A.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var X=function(){var e=function(e,t){for(var n=[],r=0;r<e;r++){n[r]=[];for(var i=0;i<t;i++)n[r][i]=0}return n.size=[e,t],n.terminalStates=[],n}(3,4);e=j(0,3,1,e=b(1,1,e)),e=j(1,3,-1,e);var t=Object(r.useState)(e),n=Object(o.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(0),s=Object(o.a)(c,2),u=s[0],d=s[1],f=Object(r.useState)(.9),x=Object(o.a)(f,2),O=x[0],g=x[1],p=Object(r.useState)(1),v=Object(o.a)(p,2),y=v[0],w=v[1],k=Object(r.useState)(i),D=Object(o.a)(k,2),F=D[0],M=D[1],E=Object(r.useState)(!0),P=Object(o.a)(E,2),G=P[0],U=P[1];return Object(L.jsx)("div",{className:"app",children:Object(L.jsxs)(N.a,{container:!0,children:[G&&Object(L.jsx)(N.a,{item:!0,xs:12,children:Object(L.jsx)(J.a,{severity:"success",action:Object(L.jsx)(T.a,{color:"inherit",size:"small",onClick:function(e){return U(!1)},children:"X"}),children:"You can double click on a cell to create/destory a block cell"})}),Object(L.jsx)(N.a,{item:!0,xs:12,children:Object(L.jsx)(C.a,{component:"h1",style:{padding:"2rem",paddingTop:G?"0.5rem":"2rem",textAlign:"center",fontSize:"calc(1.4rem + 12px)"},children:"RL Value Iteration"})}),Object(L.jsxs)(N.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"center",direction:"row",children:[Object(L.jsxs)(N.a,{item:!0,xs:4,md:2,sm:2,container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(L.jsxs)(N.a,{item:!0,style:{padding:"4px"},children:["r ="," "]}),Object(L.jsx)(N.a,{item:!0,children:Object(L.jsx)(I.a,{onChange:function(e){w(1),M(i),d(e.target.value)},style:{width:"80px"},variant:"outlined",margin:"dense",value:u})})]}),Object(L.jsxs)(N.a,{item:!0,xs:4,md:2,sm:2,container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(L.jsxs)(N.a,{item:!0,style:{padding:"4px"},children:["\u03b3 ="," "]}),Object(L.jsx)(N.a,{item:!0,children:Object(L.jsx)(I.a,{onChange:function(e){g((function(t){return Math.max(0,Math.min(1,+e.target.value))})),w(1),M(i)},style:{width:"80px"},variant:"outlined",margin:"dense",type:"number",value:O})})]})]}),Object(L.jsxs)(N.a,{item:!0,container:!0,xs:12,style:{minHeight:"55vh"},children:[Object(L.jsx)(N.a,{item:!0,xs:12,md:6,sm:6,style:{},children:Object(L.jsx)(R,{onDoubleClickCell:function(e,t){w(1),function(e,t,n,r,i){m(e,t,n)?(r(S(e,t,0,n)),i(S(e,t,0,n))):(r(b(e,t,n)),i(b(e,t,n)))}(e,t,i,a,M)},justify:"flex-end",grid:F})}),Object(L.jsx)(N.a,{item:!0,xs:12,md:6,sm:6,children:Object(L.jsx)(B,{grid:F})})]}),Object(L.jsxs)(N.a,{item:!0,container:!0,alignItems:"center",justify:"center",spacing:2,style:{paddingBottom:"1vw"},children:[y>1&&Object(L.jsx)(N.a,{item:!0,style:{position:"relative",marginTop:"-1px"},children:Object(L.jsx)(T.a,{style:{height:"39px"},variant:"contained",onClick:function(e){M(i),w(1)},children:"Rest"})}),Object(L.jsx)(N.a,{item:!0,children:Object(L.jsx)(I.a,{type:"number",value:y,onChange:function(e){w(+e.target.value),M(i)},variant:"outlined",margin:"dense",style:{width:"80px",margin:"auto"}})}),Object(L.jsx)(N.a,{item:!0,children:Object(L.jsx)(T.a,{style:{height:"39px"},variant:"contained",color:"primary",onClick:function(e){var t=isNaN(+u)?0:+u;isNaN(+u)&&alert("Reward is not a valid number"),M(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.9,i=l.a(e),a=0;a<t;a++)i=h(n,r,.8,i);return i}(i,y,t,O)),w((function(e){return e+1}))},children:"step"})})]})]})})};var K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(X,{})}),document.getElementById("root")),K()}},[[82,1,2]]]);
//# sourceMappingURL=main.8b99c93f.chunk.js.map